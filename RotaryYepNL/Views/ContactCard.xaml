<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:models="clr-namespace:RotaryYepNL.Models"
             xmlns:mi="http://www.aathifmahir.com/dotnet/2022/maui/icons"
             x:Class="RotaryYepNL.Views.ContactCard"
             x:DataType="models:Contact">

    <Border StrokeShape="RoundRectangle 8"
            BackgroundColor="{DynamicResource CardBackground}"
            Padding="12"
            Margin="8,4">
        <Grid ColumnDefinitions="Auto, *, Auto">
            <!-- Avatar -->
            <Border HeightRequest="56"
                    WidthRequest="56"
                    StrokeShape="RoundRectangle 28"
                    Padding="0"
                    BackgroundColor="Transparent"
                    VerticalOptions="Center">
                <!-- Use a clipped container: set corner radius through StrokeShape and ensure image fills -->
                <Grid>
                    <Image Source="{Binding ImageUrl}"
                           Aspect="AspectFill"
                           HorizontalOptions="Fill"
                           VerticalOptions="Fill"/>
                </Grid>
            </Border>

            <!-- Name & Function -->
            <VerticalStackLayout Grid.Column="1"
                                 VerticalOptions="Center"
                                 Spacing="2">
                <Label Text="{Binding Name}"
                       FontAttributes="Bold"
                       FontSize="16"/>
                <Label Text="{Binding PrimaryFunction}"
                       FontSize="14"
                       Opacity="0.75"/>
            </VerticalStackLayout>

            <!-- Chevron -->
            <Image Grid.Column="2"
                   HeightRequest="20"
                   WidthRequest="20"
                   VerticalOptions="Center"
                   Opacity="0.6">
                <Image.Source>
                    <FontImageSource Glyph="{mi:Material Icon=ChevronRight}"
                                     Size="20"/>
                </Image.Source>
            </Image>
        </Grid>
    </Border>
</ContentView>
